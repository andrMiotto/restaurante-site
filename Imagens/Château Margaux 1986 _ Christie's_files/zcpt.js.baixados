!function(t,e){var define;"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.zcpt=e():t.zcpt=e()}(this,(()=>(()=>{"use strict";var t,e,n={},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var i=o[t]={exports:{}};return n[t](i,i.exports,r),i.exports}r.m=n,r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce(((e,n)=>(r.f[n](t,e),e)),[])),r.u=t=>t+".js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="conversion-pixel-tag:",r.l=(n,o,i,s)=>{if(t[n])t[n].push(o);else{var a,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),p=0;p<u.length;p++){var l=u[p];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==e+i){a=l;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",e+i),a.src=n),t[n]=[o];var f=(e,o)=>{a.onerror=a.onload=null,clearTimeout(d);var r=t[n];if(delete t[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((t=>t(o))),e)return e(o)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),c&&document.head.appendChild(a)}},r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{var t={228:0};r.f.j=(e,n)=>{var o=r.o(t,e)?t[e]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise(((n,r)=>o=t[e]=[n,r]));n.push(o[2]=i);var s=r.p+r.u(e),a=new Error;r.l(s,(n=>{if(r.o(t,e)&&(0!==(o=t[e])&&(t[e]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,o[1](a)}}),"chunk-"+e,e)}};var e=(e,n)=>{var o,i,[s,a,c]=n,u=0;if(s.some((e=>0!==t[e]))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);c&&c(r)}for(e&&e(n);u<s.length;u++)i=s[u],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=this.webpackChunkconversion_pixel_tag=this.webpackChunkconversion_pixel_tag||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var i={};function s(t){return Object.keys(t).map((function(e){return"".concat(e,"=").concat(encodeURIComponent(t[e]))})).join("&")}r.r(i);var a=function(){},c=function(t,e,n){var o=t[e];t[e]=function(){var t=o.apply(this,arguments);return n.apply(this,arguments),t}},u=function(t,e,n){(window.postMessage||a)({action:"log",type:t,message:e,name:n},"*")};function p(t){if(t)return"string"==typeof t?t.replace(" ","").split(","):(e=t,Array.isArray(e)?t:void 0);var e}var l,f,d,h="has_concent_event",v=[1,3,7,9,10];!function(t){t.Default="all",t.EuZone1="euZone1",t.EuZone2="euZone2"}(l||(l={})),function(t){t.Product="product"}(f||(f={})),function(t){t.Log="log",t.Warning="warning",t.Info="info",t.Error="error"}(d||(d={}));var y="PAGE_VIEW",g="zpbid",m="zpbid",w="obamplify",b="zcpt",C=new(function(){function t(){this.eventNameRegex=new RegExp("^[A-Za-z0-9]+[A-Za-z0-9-_]*$")}return t.prototype.validate=function(t){return!(t.name!==y&&!this.eventNameRegex.test(t.name)&&(u(d.Warning,"Invalid event name. Event name must consist of letters or numbers with underscore (_) as a separator between words.",t.name),1))},t}()),_=new(function(){function t(){}return t.prototype.getParamFromUrl=function(t){var e=this.getLocation();e.indexOf("#")>-1&&(e=e.substring(0,e.indexOf("#")));for(var n=(e.split("?")[1]||"").split(/&/),o=0;o<n.length;o++)if(this.startsWith(n[o],t))return this.getParamValue(n[o]);return""},t.prototype.getLocation=function(){var t="";try{t=window.top.location.href||document.location.href}catch(e){t=document.location.href}return t||""},t.prototype.startsWith=function(t,e){return 0===t.indexOf(e+"=")},t.prototype.getParamValue=function(t){return t.split("=")[1].split("#")[0]},t}()),k=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},O=new(function(){function t(){this.listeners={}}return t.prototype.on=function(t,e){var n=this;return-1===Object.keys(this.listeners).indexOf(t)&&(this.listeners[t]=[]),this.listeners[t].push(e),function(){n.listeners[t]=n.listeners[t].filter((function(t){return t!=e}))}},t.prototype.dispatch=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];-1!==Object.keys(this.listeners).indexOf(t)&&this.listeners[t].forEach((function(t){return t.call.apply(t,k([null],e,!1))}))},t}()),E=function(){return E=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},E.apply(this,arguments)};function S(t,e){var n={error:"LOAD",measurementServiceId:e.marketerId,referrer:document.URL,line:t.lineNumber||t.line,script:t.fileName||t.sourceURL||t.script,stack:t.stackTrace||t.stack,message:t.message},o=encodeURIComponent(JSON.stringify(n));(new Image).src="".concat("https://p1.outbrain.com/v2/plog/","?apiObjVersion=").concat(e.version,"&zcptVersion=").concat(e.zcptVersion,"&msg=").concat(o)}function P(t){return"".concat("https://p1.outbrain.com/v2/p/js","/").concat(t.marketerId,"/").concat(t.name,"/")}function A(t){var e=function(){try{return window.self!==window.top}catch(t){return!0}}()&&""!==document.referrer?encodeURIComponent(document.referrer):"",n=(t.marketerId,t.name,function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(t,["marketerId","name"]));return E(E({},n),{url_referer:e})}var x=function(){function t(t){this.cookiesToProcess=[];var e=this;t.on(h,(function(t){if(e.hasConsent=t,e.hasConsent)for(;e.cookiesToProcess.length;){var n=e.cookiesToProcess.pop();e.set(n.name,n.value,n.expirationInDays,n.domain)}}))}return t.prototype.set=function(t,e,n,o){if(void 0===n&&(n=7),this.hasConsent){var r=this.getAllCookies();r[t]=e;var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var s="expires="+i.toUTCString(),a="".concat(m,"=").concat(encodeURIComponent(JSON.stringify(r)))+"; "+s+"; path=/;";o&&(a+="domain="+o+";"),document.cookie=a}else this.cookiesToProcess.push({name:t,value:e,expirationInDays:n,domain:o})},t.prototype.get=function(t){try{return this.getAllCookies()[t]||""}catch(t){return console.error("failed to access cookies",t),""}},t.prototype.getAllCookies=function(){var t,e,n=document.cookie;if(!n)return{};var o,r=null===(e=n.split("; ").find((function(t){return t.startsWith("dicbo_id=")})))||void 0===e?void 0:e.split("=")[1];if(!r)return{};try{o=JSON.parse(decodeURIComponent(r))}catch(e){(t={}).zpbid=r,o=t}return o},t}(),T=new x(O),I=new(function(){function t(){window.addEventListener("UC_UI_CMP_EVENT",function(t){var e,n=t.detail.type;["ACCEPT_ALL","DENY_ALL","SAVE"].includes(n)&&(null===(e=this.cb)||void 0===e||e.call(this,this.hasConsent()))}.bind(this))}return t.prototype.hasConsentHandler=function(){return!!window.UC_UI},t.prototype.handleConsent=function(t){this.cb=t,this.cb(this.hasConsent())},t.prototype.hasConsent=function(){var t,e,n=window.UC_UI;return n.areAllConsentsAccepted()||!!(null===(e=null===(t=n.getServicesBaseInfo().find((function(t){return"Outbrain"===t.name})))||void 0===t?void 0:t.consent)||void 0===e?void 0:e.status)},t}()),L=new(function(){function t(){this.boundOnAccept=!1}return t.prototype.hasConsentHandler=function(){return!!window.Cookiebot},t.prototype.handleConsent=function(t){var e;this.cb=t;var n=window.Cookiebot;this.boundOnAccept||this.bindOnAccept(),this.cb(null===(e=n.consent)||void 0===e?void 0:e.marketing)},t.prototype.bindOnAccept=function(){window.addEventListener("CookiebotOnAccept",this.cb.bind(this,!0),!1),this.boundOnAccept=!0},t}()),j=new(function(){function t(){}return t.prototype.hasConsentHandler=function(){return!!window.didomiState},t.prototype.handleConsent=function(t){this.cb=t;var e=window.didomiState;this.cb(e.didomiPurposesConsent.indexOf("cookies")>-1&&e.didomiPurposesConsent.indexOf("measure_ad_performance")>-1)},t}()),U=new(function(){function t(){}return t.prototype.hasConsentHandler=function(){return void 0!==window.OnetrustActiveGroups},t.prototype.handleConsent=function(t){var e=this;this.cb=t;var n=function(){return window.OnetrustActiveGroups.toUpperCase().indexOf("C0004")>-1};if(n())this.cb(!0);else if("OneTrust"in window)window.OneTrust.OnConsentChanged((function(){e.cb(n())}));else{var o=Q.zone===l.Default;this.cb(o)}},t}()),z=new(function(){function t(){}return t.prototype.hasConsentHandler=function(){return!!window.google_tag_data},t.prototype.handleConsent=function(t){var e;if(Q.zone!==l.Default){var n=window.google_tag_data;if(null===(e=null==n?void 0:n.ics)||void 0===e?void 0:e.entries){var o=["ad_storage","ad_user_data"],r=function(){return o.every((function(t){var e;return!0===(null===(e=n.ics.entries[t])||void 0===e?void 0:e.update)}))};t(r()),!r()&&n.ics.addListener&&n.ics.addListener(o,(function(){t(r())}))}else t(!1)}else t(!0)},t}()),H=new(function(){function t(){this.cbs=[],this.tcfApiEventListeners=[]}return t.prototype.hasConsentHandler=function(){return!!window.__tcfapi||!!this.getTCF2Window()},t.prototype.handleConsent=function(t){if(this.cbs.push(t),window.__tcfapi){var e=this.onTCFChanges.bind(this);this.tcfApiEventListeners.push(e),window.__tcfapi("addEventListener",2,e)}else{var n=this.getTCF2Window();window.addEventListener?window.addEventListener("message",this.postMsgCB.bind(this),!1):window.attachEvent&&window.attachEvent("message",this.postMsgCB.bind(this),!1);var o={__tcfapiCall:{command:"addEventListener",parameter:[164],version:2,callId:w}};n.postMessage(o,"*")}},t.prototype.hasPurposeConsent=function(t){if(!(null==t?void 0:t.consents))return{hasConsent:!0,noPurposes:!0};var e=t.consents,n=!0;return v.forEach((function(t){e.hasOwnProperty(t)&&!1===e[t]&&(n=!1)})),{hasConsent:n,noPurposes:!1}},t.prototype.postMsgCB=function(t){t.data.__tcfapiReturn&&t.data.__tcfapiReturn.callId===w&&this.onTCFCB(t.data.__tcfapiReturn.returnValue,!0)},t.prototype.onTCFCB=function(t,e){if(!1!==t&&"cmpuishown"!==t.eventStatus)if(e&&"tcloaded"===(null==t?void 0:t.eventStatus)||"useractioncomplete"===(null==t?void 0:t.eventStatus)){var n=this.hasPurposeConsent(t.purpose);t&&t.vendor&&t.vendor.consents&&!1===t.vendor.consents[164]||!t||!n.hasConsent?this.invokeCallBacks(!1,n.noPurposes):this.invokeCallBacks(!0,n.noPurposes),this.removeTcfApiEventListeners()}else this.invokeCallBacks(!0,!1)},t.prototype.invokeCallBacks=function(t,e){for(void 0===e&&(e=!1);this.cbs.length;)this.cbs.shift()(t,e)},t.prototype.removeTcfApiEventListeners=function(){window.__tcfapi&&this.tcfApiEventListeners.forEach((function(t){window.__tcfapi("removeEventListener",2,t)}))},t.prototype.onTCFChanges=function(t,e){this.onTCFCB(t,e)},t.prototype.getTCF2Window=function(){var t=window;try{for(;t&&!t.frames.__tcfapiLocator;){if(t===window.top)return;t=t.parent}return t}catch(t){}},t}()),R=new(function(){function t(){}return t.prototype.hasConsentHandler=function(){return window.__uspapi&&"function"==typeof window.__uspapi},t.prototype.handleConsent=function(t){window.__uspapi("getUSPData",1,(function(e,n){if(e.uspString)n&&"1YYN"!==e.uspString.toUpperCase()&&"1NYN"!==e.uspString.toUpperCase()?t(!0):t(!1);else{var o=Q.zone===l.Default;t(o)}}))},t}()),B=new(function(){function t(){this.delimiter="~"}return t.prototype.hasConsentHandler=function(){return!!window.__gpp},t.prototype.handleConsent=function(t){var e=this;this.cb=t;var n=Q.zone===l.Default;window.__gpp("addEventListener",(function(o){if("signalStatus"===o.eventName&&"ready"===o.data){var r=o.pingData.gppString;e.parseGppString(r,n,t)}}))},t.prototype.parseGppString=function(t,e,n){return o=this,i=void 0,a=function(){var o,i;return function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(s){switch(s.label){case 0:if(!this.isValidString(t))return n(e),[2];if(this.iabLib)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),o=this,[4,r.e(673).then(r.bind(r,673))];case 2:return o.iabLib=s.sent(),[3,4];case 3:return S({message:"Failed to load iab library",error:s.sent()},Q),n(e),[2];case 4:return i=this.parseString(t),n(null!=i?i:e),[2]}}))},new((s=void 0)||(s=Promise))((function(t,e){function n(t){try{c(a.next(t))}catch(t){e(t)}}function r(t){try{c(a.throw(t))}catch(t){e(t)}}function c(e){var o;e.done?t(e.value):(o=e.value,o instanceof s?o:new s((function(t){t(o)}))).then(n,r)}c((a=a.apply(o,i||[])).next())}));var o,i,s,a},t.prototype.isValidString=function(t){return t.startsWith("C")||t.startsWith("D")},t.prototype.parseString=function(t){try{return this.hasConsent(t)}catch(n){if(t.startsWith("D"))try{var e=t.substring(t.indexOf(this.delimiter)+1);return this.hasConsent(e)}catch(t){}return}},t.prototype.hasConsent=function(t){var e=this.iabLib.TCString.decode(t);if(e.vendorConsents.has(164))return e.purposeConsents.has(1)},t}()),N=new(function(){function t(){}return t.prototype.hasConsentHandler=function(){var t=decodeURIComponent(document.location.href.toLowerCase());return t.includes("gcs=g111")||t.includes("gcs=g11-")||t.includes("gcs=g1-1")},t.prototype.handleConsent=function(t){t(!0)},t}()),D=new(function(){function t(){}return t.prototype.hasConsentHandler=function(){return!0},t.prototype.handleConsent=function(t){this.cb=t,this.cb(this.hasConsentSignal())},t.prototype.hasConsentSignal=function(){var t=_.getParamFromUrl(g),e=null==t?void 0:t.split("-");return!(!t||!(null==e?void 0:e.length))&&"1"===e[e.length-1]},t}()),V=new(function(){function t(){}return t.prototype.hasConsentHandler=function(){var t=document.cookie,e=!!t&&["_shopify_ga","_shopify_y","_shopify_s","_shopify_fs","_shopify_sa_p","_shopify_sa_t","_shopify_country","_shopify_essential"].some((function(e){return t.includes(e)})),n=document.location.href.toLowerCase().includes("/custom/web-pixel-");return e||n},t.prototype.handleConsent=function(t){return e=this,n=void 0,r=function(){var e,n,o,r,i=this;return function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(s){return e=Q.zone===l.Default,n=Q.queue,o=n.length&&n.some((function(t){var e=t[2];return!!(null==e?void 0:e.shopifyEvent)&&!0!==(null==e?void 0:e.shopifyEvent)})),o?(r=n.some((function(t){var e=t[2];return!!e&&i.hasConsent(e.shopifyEvent)})),t(r),[2]):(t(e),[2])}))},new((o=void 0)||(o=Promise))((function(t,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,a)}c((r=r.apply(e,n||[])).next())}));var e,n,o,r},t.prototype.hasConsent=function(t){var e=t.analyticsProcessingAllowed,n=t.marketingAllowed,o=t.saleOfDataAllowed;return e&&n&&o},t}()),F=function(t){switch(Q.zone){case l.EuZone1:return!0;case l.EuZone2:return!["ccpa","gpp"].includes(t);default:return["ccpa","gpp","tcf","shopify"].includes(t)}},q=[{service:H,type:"tcf"},{service:I,type:"uc"},{service:L,type:"cb"},{service:j,type:"di"},{service:U,type:"ot"},{service:R,type:"ccpa"},{service:B,type:"gpp"},{service:z,type:"gtm"},{service:N,type:"g111"},{service:V,type:"shopify"}],M={service:D,type:"pc"},G=function(){function t(){this.timeouts=[]}return t.prototype.checkHasConsent=function(t){var e=this,n=function(n,o,r){for(void 0===o&&(o=void 0),void 0===r&&(r=!1);e.timeouts.length;)clearTimeout(e.timeouts.shift());t(n,o,r)},o=Q.zone===l.Default;try{this.timeouts.push(setTimeout((function(){t(o)}),500));var r=this.getConsentHandlerService();if(r.length)return void this.handleConsentByCmp(r,n,o);if(this.hasPublisherConsent())return void this.handleConsentByCmp([M],n,o);this.keepLookingForCmp(n,o),n(o)}catch(t){throw n(o),t}},t.prototype.getConsentHandlerService=function(){for(var t=[],e=0,n=q;e<n.length;e++){var o=n[e],r=o.service,i=o.type;F(i)&&r.hasConsentHandler()&&t.push(o)}return t},t.prototype.handleConsentByCmp=function(t,e,n){if(0!==t.length)for(var o=!1,r=function(t,n){t.handleConsent((function(t,r){!o&&t&&(o=!0,e(!0,n,r))}))},i=0,s=t;i<s.length;i++){var a=s[i];r(a.service,a.type)}else e(n)},t.prototype.keepLookingForCmp=function(t,e){var n=this,o=20,r=setInterval((function(){var i=n.getConsentHandlerService();i.length&&(clearInterval(r),n.handleConsentByCmp(i,t,e)),0==--o&&clearInterval(r)}),500)},t.prototype.hasPublisherConsent=function(){return Q.zone===l.EuZone1&&D.hasConsentSignal()},t}();new(function(){function t(){}return t.prototype.isTest=function(t,e){return t.split("").reduce((function(t,e){return t+e.charCodeAt(0)}),0)%100<e},t.prototype.isControl=function(t,e){return!this.isTest(t,e)},t}());var W=function(){return W=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},W.apply(this,arguments)},Z=function(){function t(){this.hasConsent=!1,this.isCheckConsentRespond=!1,this.noPurposes=!1,this.gdprValidatorService=new G}return t.prototype.drainQueue=function(t,e){var n=this;void 0===e&&(e=null);for(var o=!1,r=function(){var r=Q.queue.shift(),i=r[0],s=r[1],a=r[2];if(!s)return S(new Error("Can't dispatch pixel, event name is missing"),Q),"continue";if("SHOPIFY_PRIVACY"===s)return"continue";if(s===y&&!a){if(o)return"continue";o=!0}!function(t,e){for(var n=0,o=t;n<o.length;n++)e(o[n].trim())}(t,(function(t){var o=n.getRequestParams(s,t,a);"track"===i?(C.validate(o),n.firePixel(o,e)):u(d.Error,"Command type ".concat(i," is not recognized."),s)}))};Q.queue.length;)r()},t.prototype.firePixel=function(t,e){void 0===e&&(e=null),!t.cht&&this.consentHandlerType&&(t.cht=this.consentHandlerType),"tcf"===this.consentHandlerType&&this.noPurposes&&(t.np="1"),this.fire(t,this.hasConsent,e)},t.prototype.fire=function(t,e,n){var o;if(void 0===n&&(n=null),e){var r=W({au:!e,bust:Math.random().toString().replace(".",""),referrer:document.URL},t.cht&&{cht:t.cht}),i=this.getClickIdCookieCached();if("AUTO_10_SEC_ON_PAGE"!==t.name||i){var a=W(W(W({},r),A(t)),i&&((o={}).postbackid=i,o));t.marketerId;try{window.fetch("".concat(P(t),"?").concat(s(a)),{keepalive:!0,method:"GET",mode:"no-cors",credentials:"include",referrerPolicy:"no-referrer-when-downgrade",attributionReporting:{eventSourceEligible:!1,triggerEligible:!0}})}catch(e){S(e,Q);var c=new Image;c.referrerPolicy="no-referrer-when-downgrade",c.src=P(t)+"?"+s(a)}}}},t.prototype.dispatch=function(){var t=this.getUniqueMarketers(Q.marketerId);this.unifiedDispatch(t)},t.prototype.unifiedDispatch=function(t){if(this.isCheckConsentRespond)this.hasConsent&&this.drainQueue(t);else{var e=navigator;this.gdprValidatorService.checkHasConsent(function(n,o,r){void 0===r&&(r=!1),this.isCheckConsentRespond=!0,n&&(O.dispatch(h,n),this.hasConsent=n,this.consentHandlerType=o,this.noPurposes=r,this.drainQueue(t,e))}.bind(this))}},t.prototype.getRequestParams=function(t,e,n){var o,r=function(){var t=Q.variations||[],e=T.get("variations");return e&&e.split(",").forEach((function(e){var n=parseInt(e);isNaN(n)||-1!==t.indexOf(n)||t.push(n)})),t}(),i=W(W({},n),((o={marketerId:e,name:t,dl:_.getLocation(),g:this.hasGtm()?1:0,zone:Q.zone})["".concat("zemApi","Version")]=Q.version?Q.version:"-1",o["".concat(b,"Version")]=Q["".concat(b,"Version")],o));return"shopifyEvent"in i&&delete i.shopifyEvent,r.length&&Object.assign(i,{variationId:r.join(",")}),Object.keys(i).forEach((function(t){return void 0===i[t]&&delete i[t]})),i},t.prototype.getUniqueMarketersNew=function(t){return t.filter((function(t,e,n){return n.indexOf(t)===e}))},t.prototype.getUniqueMarketers=function(t){for(var e=[],n={},o=0;o<t.length;o++)n[t[o]]||e.push(t[o]),n[t[o]]=!0;return e},t.prototype.getClickIdCookieCached=function(){var t,e=_.getParamFromUrl(g);if(e){var n=_.getParamFromUrl("");T.set(m,e,7,n),t=e}else t=T.get(m);return t&&t.replace(/#/g,"")},t.prototype.hasGtm=function(){return!!document.querySelector('script[src*="googletagmanager.com/gtm.js"]')},t}();const $={zone:l.Default};var Y=window.__$$OBGeoZone||$.zone,J=window.__$$loadedBy||void 0,Q=new function(t,e,n){var o=window.zemApi,r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.queue.push(t),r.dispatch.apply(r)};r.zone=e,r.version=o.version,r.loaded=o.loaded,r.loadedBy=null!=n?n:o.loadedBy,r.marketerId=p(o.marketerId),r.queue=o.queue;var i=new Z;r.dispatch=i.dispatch.bind(i),r.addMarketer=function(t){r.marketerId=r.marketerId.concat(p(t))},r["".concat(b,"Version")]="2.18.179",t.zemApi=r,this.apiObj=r}(window,Y,J).apiObj;try{new function(){if(history.pushState&&history.replaceState&&window.addEventListener){var t=this,e=function(e){location.href!==t.lastVisited&&e&&(t.lastVisited=location.href,Q("track",y))};c(history,"pushState",e),c(history,"replaceState",e),window.addEventListener("popstate",e,!1)}},Q.dispatch.apply(Q)}catch(t){S(t,Q)}return i})()));